[Poj 3293 Rectilinear Polygon 扫描线](https://yfscfs.gitee.io/post/poj-3293-rectilinear-polygon-%E6%89%AB%E6%8F%8F%E7%BA%BF/)

### POJ-3293(直角多边形)

![alt](./img/002.png)

**题意:**
- 给定N个点，问是否能组成直角多边形
- 每个顶点都与另外两个顶点构成直角
- 每条边都平行于坐标轴，而且该直角多边形没有洞
- 并求出周长？

### 思路
对于任何一个方向的扫描线，这个扫描线上的顶点的个数需要是偶数, 如果是奇数的话，直接返回 -1, 一定构不成直角多边形的. 什么意思呢? 
![alt](./img/003.png)

你看，Y方向的扫描线有 A、B、C、D 四条，而 X方向的扫描线有 a、b、c 三条. 这7条扫描线上每一条上面的顶点个数都是偶数个. 例如 a 上有 4个顶点. C 上有 2个顶点.

如果是奇数个的话，则一定构不成直角多边形，则返回 -1. 如果是偶数的话，一定是扫描线上相邻的两个点进行配对. 则就可以一边扫描一边维护周长了.

但是这样就够了吗? 如果有洞的情况呢? 例如下图:
![alt](./img/004.png)

上面的图形是"回” 字，是有洞的~ 上面的算法仅仅检测扫描线上顶点的个数的奇偶性的话，是无法排除这种带洞的情况的.

带洞的情况其实十分好搞的——判断最后是否连通就行了. 而判断连通使用并查集即可. 但是还有一个问题. 就是连线出现交叉的情况. 就像下图 8 个点.
![alt](./img/005.png)
最后 8 个点都是连通的, 而且每条扫描线上都是偶数个点. 但是依旧要返回 -1. 因为出现了 BG 和 EF 相交的情况. 那么怎么判断相交呢? 暴力。

